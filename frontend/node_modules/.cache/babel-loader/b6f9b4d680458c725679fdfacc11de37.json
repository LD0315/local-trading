{"ast":null,"code":"var _jsxFileName = \"/Users/linlin/Desktop/local-trading/frontend/src/screens/ProductScreen.js\";\nimport React, { useState, useEffect } from 'react'; // import data from '../data';\n\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { detailsProduct } from '../actions/productActions';\n\nfunction ProductScreen(props) {\n  //console.log(props.match.params.id);\n  //const product = data.products.find(x => x._id === props.match.params.id);\n  const [qty, setQty] = useState(1);\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    product,\n    loading,\n    error\n  } = productDetails;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(detailsProduct(props.match.params.id));\n    return () => {};\n  }, []);\n\n  const handleAddToCart = () => {\n    props.history.push('/cart/' + props.match.params.id + '?qty=' + qty);\n\n    /*#__PURE__*/\n    React.createElement(Link, {\n      to: '/cart/' + props.match.params.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back-to-result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, \"Back to result\")), loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 20\n    }\n  }, error, \" \") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image,\n    alt: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, product.rating, \" Starts (\", product.numReviews, \" Reviews)\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, \"Price: \", product.price)), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"Description:\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, product.description)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Price: \", product.price), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"Status: \", product.countInStock > 0 ? \"In Stock\" : \"Unavailable.\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Qty: \", /*#__PURE__*/React.createElement(\"select\", {\n    value: qty,\n    onChange: e => {\n      setQty(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 30\n    }\n  }, [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }, x + 1)))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, product.countInStock > 0 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleAddToCart,\n    className: \"button primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, \"Add to Cart\")))))));\n}\n\nexport default ProductScreen;","map":{"version":3,"sources":["/Users/linlin/Desktop/local-trading/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","detailsProduct","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","match","params","id","handleAddToCart","history","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n// import data from '../data';\nimport { Link } from 'react-router-dom';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { detailsProduct } from '../actions/productActions';\n\nfunction ProductScreen(props) {\n    //console.log(props.match.params.id);\n    //const product = data.products.find(x => x._id === props.match.params.id);\n    const [qty, setQty] = useState(1);\n    const productDetails = useSelector(state => state.productDetails);\n    const { product, loading, error } = productDetails;\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(detailsProduct(props.match.params.id));\n        return () => {\n           \n        };\n    }, [])\n\n    const handleAddToCart = () => {\n        props.history.push('/cart/' + props.match.params.id + '?qty=' + qty);\n        <Link to={'/cart/' + props.match.params.id}></Link>\n      };\n\n    return (\n      <div>\n        \n        <div className=\"back-to-result\">\n          <Link to=\"/\">Back to result</Link>\n        </div>\n        {loading ? (<div>Loading...</div>) :\n         error ? ( <div>{error} </div> ) : \n         (\n          <>\n          <div className=\"details\">\n            <div className=\"details-image\">\n                <img src={product.image} alt=\"product\"></img>\n            </div>\n        \n            <div className=\"details-info\">\n                <ul>\n                    <li>\n                        <h4>{product.name}</h4>\n                    </li>\n                    <li>\n                        {product.rating} Starts ({product.numReviews} Reviews)\n                    </li>\n                    <li>\n                        <b>Price: {product.price}</b>\n                    </li>\n                    <li>\n                        Description:\n                        <div>\n                            {product.description}\n                        </div>\n                    </li>\n                </ul>\n            </div>\n\n            <div className=\"details-action\">\n                <ul>\n                    <li>\n                        Price: {product.price}\n                    </li>\n                    <li>\n                        Status: {product.countInStock > 0? \"In Stock\": \"Unavailable.\" }\n                    </li>\n                    <li>\n                        Qty: <select value={qty} onChange={(e) => { setQty(e.target.value)}}>\n                          {[...Array(product.countInStock).keys()].map(x => \n                            <option key={ x + 1 } value = { x + 1 }>{ x + 1 }</option>\n                            )}\n                \n                        </select>\n                    </li>\n                    <li>\n                        {product.countInStock > 0 && (\n                            <button onClick={handleAddToCart} className=\"button primary\">\n                            Add to Cart\n                            </button> \n                        )}\n                    </li>\n                </ul>\n            </div>\n        </div> \n     </>\n     )\n    }\n  </div>\n )\n}\n\n\nexport default ProductScreen;"]},"metadata":{},"sourceType":"module"}